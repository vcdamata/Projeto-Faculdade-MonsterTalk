<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Editar Lição - MonsterTalk</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/src/styles/professor_dashboard.css" />
    <link rel="stylesheet" href="/src/styles/professor_licao_criar.css" />
    <link
      href="https://cdn.quilljs.com/1.3.6/quill.snow.css"
      rel="stylesheet"
    />

    <link rel="shortcut icon" type="imagex/svg" href="/src/img/mascote.svg" />
    <script src="/src/js/sweetalert2.all.min.js"></script>
  </head>
  <body>
    <div id="header"></div>
    <div id="sidebar"></div>

    <main class="main-content">
      <div class="criar-licao-container">
        <div class="titulo-pagina-criar-licao">
          <h1>Editar Lição</h1>
        </div>

        <div id="loading-message-editar-licao" class="ml-mensagem">
          Carregando dados da lição...
        </div>
        <div id="error-message-editar-licao" class="ml-mensagem hidden"></div>

        <form id="formEditarLicao" class="hidden">
          <input type="hidden" id="licaoId" name="licaoId" />
          <div class="form-section">
            <label for="licaoTitulo">Título da Lição:</label>
            <input type="text" id="licaoTitulo" name="licaoTitulo" required />

            <label for="licaoNivel">Nível:</label>
            <select id="licaoNivel" name="licaoNivel">
              <option value="Básico">Básico</option>
              <option value="Intermediário">Intermediário</option>
              <option value="Avançado">Avançado</option>
            </select>

            <label for="licaoDescricao">Descrição Curta:</label>
            <textarea
              id="licaoDescricao"
              name="licaoDescricao"
              rows="3"
              required
            ></textarea>
          </div>

          <div class="form-section" id="perguntasContainerEditar">
            <h2>Perguntas da Lição</h2>
          </div>

          <button
            type="button"
            id="btnAdicionarPerguntaEditar"
            class="btn-adicionar"
          >
            Adicionar Nova Pergunta
          </button>
          <button type="submit" class="btn-salvar-licao">
            Salvar Alterações
          </button>
          <button
            type="button"
            id="btnCancelarEdicaoLicao"
            class="btn-cancelar"
          >
            Cancelar
          </button>
        </form>
      </div>
    </main>

    <template id="templatePergunta">
      <div class="pergunta-bloco">
        <hr />
        <div class="pergunta-header">
          <h4>Pergunta <span class="pergunta-numero">1</span></h4>
          <button type="button" class="btn-remover-pergunta">Remover</button>
        </div>

        <label for="enunciadoPergunta">Enunciado da Pergunta:</label>
        <div class="quill-editor-container" id="enunciadoPergunta"></div>

        <label for="perguntaTipo">Tipo de Pergunta:</label>
        <select id="perguntaTipo" class="pergunta-tipo">
          <option value="multipla-escolha">Múltipla Escolha (Texto)</option>
          <option value="multipla-escolha-imagem">
            Múltipla Escolha (Imagem nas Opções)
          </option>
        </select>

        <label for="perguntaRecursoUrl"
          >URL do Recurso Principal (opcional):</label
        >
        <input
          type="url"
          id="perguntaRecursoUrl"
          class="pergunta-recurso-url"
          placeholder="https://exemplo.com/imagem.png"
        />

        <div class="opcoes-respostas-container">
          <label for="respostaCorreta-0"
            >Opções de Resposta (Marque a correta):</label
          >
          <div class="opcao-item">
            <input
              type="radio"
              id="respostaCorreta-0"
              name="respostaCorreta"
              value="0"
              required
            />
            <input
              type="text"
              class="opcao-texto"
              placeholder="Texto da Opção 1"
              required
            />
            <input
              type="url"
              class="opcao-imagem-url"
              placeholder="URL da Imagem da Opção 1"
            />
          </div>
          <div class="opcao-item">
            <input type="radio" name="respostaCorreta" value="1" required />
            <input
              type="text"
              class="opcao-texto"
              placeholder="Texto da Opção 2"
              required
            />
            <input
              type="url"
              class="opcao-imagem-url"
              placeholder="URL da Imagem da Opção 2"
            />
          </div>
          <div class="opcao-item">
            <input type="radio" name="respostaCorreta" value="2" required />
            <input
              type="text"
              class="opcao-texto"
              placeholder="Texto da Opção 3"
              required
            />
            <input
              type="url"
              class="opcao-imagem-url"
              placeholder="URL da Imagem da Opção 3"
            />
          </div>
          <div class="opcao-item">
            <input type="radio" name="respostaCorreta" value="3" required />
            <input
              type="text"
              class="opcao-texto"
              placeholder="Texto da Opção 4"
              required
            />
            <input
              type="url"
              class="opcao-imagem-url"
              placeholder="URL da Imagem da Opção 4"
            />
          </div>
        </div>
        <label for="perguntaPalavrasChave"
          >Palavras-Chave (formato: palavraEN:traduçãoPT, ...):</label
        >
        <input
          type="text"
          id="perguntaPalavrasChave"
          class="pergunta-palavras-chave"
          placeholder="Ex: go:ir, house:casa"
        />
      </div>
    </template>

    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <script type="module" src="/src/js/utils.js"></script>
    <script type="module" src="/src/js/professor_components.js"></script>
    <script type="module" src="/src/js/professor_licao_editar.js"></script>
  </body>
</html>
